rm -rf build/pntest/
rm -rf dist/pntest/
rm -rf dist/pntest.app/

pyinstaller ./src/__main__.py --onefile \
    --name="pntest" \
    --windowed \
    --paths=$PWD/src \
    --add-data='include/pntest_proxy:include/' \
    --add-data='include/cert9.db:include/' \
    --add-data='include/rootCA.key:include/' \
    --add-data='include/mitmproxy-ca.pem:include/' \
    --add-data='include/html_page.html:include/' \
    --add-data='src/style/dark.qss:style/' \
    --add-data='src/style/dark_theme.qss:style/' \
    --add-data='src/style/light.qss:style/' \
    --add-data='venv/lib/python3.9/site-packages/PySide2/Qt/lib/QtWebEngineCore.framework/Resources/:PySide2/Qt' \
    --noupx

# NOTE: ON Mac it looks for QtWebEngine resources in ./PySide2/Qt
